<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Acceso al Tesoro</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0f1724;
      --accent: #ffb86b;
      --accent2: #7ee7c6;
      --text: #f8fafc;
      --text-muted: #c6d0ff;
      --success: #7af0a4;
      --error: #ff6b6b;
    }

    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      font-family: "Poppins", sans-serif;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(126,231,198,0.08), transparent 6%),
                  radial-gradient(1000px 500px at 90% 90%, rgba(255,184,107,0.06), transparent 8%),
                  var(--bg);
      color: var(--text);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      padding: 20px;
      overflow: hidden;
    }

    .card {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.05);
      border-radius: 16px;
      padding: 40px 30px;
      max-width: 400px;
      width: 100%;
      text-align: center;
      box-shadow: 0 10px 30px rgba(2,6,23,0.7);
      position: relative;
    }

    h1 {
      font-family: "Playfair Display", serif;
      font-size: 32px;
      margin-bottom: 20px;
      color: var(--accent);
      text-shadow: 0 4px 15px rgba(0,0,0,0.3);
    }

    p {
      color: var(--text-muted);
      font-size: 14px;
      margin-bottom: 20px;
    }

    input[type="password"] {
      width: 100%;
      padding: 14px;
      font-size: 18px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.1);
      background: rgba(255,255,255,0.02);
      color: var(--text);
      text-align: center;
      letter-spacing: 4px;
      margin-bottom: 20px;
      outline: none;
      transition: box-shadow 0.2s, transform 0.2s;
    }

    input[type="password"]:focus {
      box-shadow: 0 6px 20px rgba(126,231,198,0.2);
      transform: translateY(-2px);
      border-color: var(--accent2);
    }

    button {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      font-weight: 700;
      border-radius: 12px;
      border: none;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      color: #052623;
      cursor: pointer;
      transition: transform 0.1s;
    }

    button:active { transform: translateY(2px); }

    .message {
      font-size: 16px;
      font-weight: 600;
      margin-top: 20px;
      display: none;
      padding: 12px;
      border-radius: 12px;
    }

    .success { color: var(--success); background: rgba(122,240,164,0.1); }
    .error { color: var(--error); background: rgba(255,107,107,0.1); }

    /* Confetti */
    .confetti span {
      position: absolute;
      width: 10px;
      height: 16px;
      opacity: 0.9;
      border-radius: 2px;
      pointer-events: none;
      animation: fall linear forwards;
    }

    @keyframes fall {
      0% { transform: translateY(-10vh) rotate(0deg); opacity:1; }
      100% { transform: translateY(110vh) rotate(720deg); opacity:0.8; }
    }

    @media (max-width: 450px) {
      .card { padding: 30px 20px; }
      h1 { font-size: 28px; }
      input[type="password"] { font-size: 16px; padding: 12px; }
      button { font-size: 14px; padding: 10px; }
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>Introducir código</h1>
    <p>Escribe el código correcto para descubrir el tesoro</p>
    <input type="password" id="codeInput" maxlength="5" placeholder="•••••">
    <button id="submitBtn">Entrar</button>
    <div class="message success" id="successMsg">¡Enhorabuena! El tesoro está en la habitación.</div>
    <div class="message error" id="errorMsg">Código incorrecto, inténtalo de nuevo.</div>
    <div id="confetti" class="confetti"></div>
  </div>

  <script>
    const CORRECT_CODE = '24421';
    const input = document.getElementById('codeInput');
    const btn = document.getElementById('submitBtn');
    const successMsg = document.getElementById('successMsg');
    const errorMsg = document.getElementById('errorMsg');
    const confettiRoot = document.getElementById('confetti');

    btn.addEventListener('click', () => {
      const val = input.value.trim();
      if(val === CORRECT_CODE){
        successMsg.style.display = 'block';
        errorMsg.style.display = 'none';
        launchConfetti(30);
      } else {
        errorMsg.style.display = 'block';
        successMsg.style.display = 'none';
        input.value = '';
        input.focus();
      }
    });

    input.addEventListener('keydown', (e) => {
      if(e.key === 'Enter') btn.click();
    });

    function launchConfetti(count=25){
      confettiRoot.innerHTML = '';
      const colors = ['#ffb86b','#7ee7c6','#ffd6e0','#c6d0ff','#ffe77a'];
      const w = window.innerWidth;
      for(let i=0;i<count;i++){
        const s = document.createElement('span');
        s.style.left = (Math.random()*100)+'%';
        s.style.top = (-10 - Math.random()*10) + 'vh';
        s.style.background = colors[Math.floor(Math.random()*colors.length)];
        const dur = 2 + Math.random()*2;
        const delay = Math.random()*0.6;
        s.style.animationDuration = dur+'s';
        s.style.animationDelay = delay+'s';
        s.style.transform = 'translateY(0) rotate(' + (Math.random()*360) + 'deg)';
        confettiRoot.appendChild(s);
      }
      setTimeout(()=>{ confettiRoot.innerHTML = ''; }, 5000);
    }
  </script>
</body>
</html>
